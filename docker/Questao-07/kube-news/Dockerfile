FROM node:18-alpine3.16

WORKDIR /app

COPY ./src .
RUN npm install
EXPOSE 8080

ARG DB_DATABASE=kubedevnews
ARG DB_USERNAME=kubedevnews
ARG DB_PASSWORD=Pg#123
ARG DB_HOST=localhost

ENV DB_DATABASE=$DB_DATABASE
ENV DB_USERNAME=$DB_USERNAME
ENV DB_PASSWORD=$DB_PASSWORD
ENV DB_HOST=$DB_HOST

EXPOSE 8080

CMD [ "node", "server.js" ]